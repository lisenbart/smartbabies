# üîê –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è OAuth –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥–µ–æ

–î–ª—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è** –º–µ—Ç–∞–¥–∞–Ω–∏—Ö –≤—ñ–¥–µ–æ —á–µ—Ä–µ–∑ API –ø–æ—Ç—Ä—ñ–±–Ω–∞ OAuth –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è.

## ‚ö° –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä—ñ—Ç—å OAuth Client ID

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://console.cloud.google.com/
2. –í–∏–±–µ—Ä—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç (—Ç–æ–π —Å–∞–º–∏–π –¥–µ —Å—Ç–≤–æ—Ä–∏–ª–∏ API –∫–ª—é—á)
3. –ü–µ—Ä–µ–π–¥—ñ—Ç—å: **APIs & Services** ‚Üí **Credentials**

### –ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–π—Ç–µ OAuth Consent Screen (—è–∫—â–æ —â–µ –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ)

–Ø–∫—â–æ –±–∞—á–∏—Ç–µ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ OAuth consent screen:

1. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Configure Consent Screen"**
2. **User Type:** –í–∏–±–µ—Ä—ñ—Ç—å **"External"** ‚Üí **Create**
3. **App information:**
   - App name: `SmartBabies Optimizer`
   - User support email: –≤–∞—à email
   - Developer contact information: –≤–∞—à email
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Save and Continue**
5. **Scopes:** –ü—Ä–æ–ø—É—Å—Ç—ñ—Ç—å (–Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **Save and Continue**)
6. **Test users:** –ü—Ä–æ–ø—É—Å—Ç—ñ—Ç—å (–Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **Save and Continue**)
7. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Back to Dashboard**

### –ö—Ä–æ–∫ 3: –°—Ç–≤–æ—Ä—ñ—Ç—å OAuth Client ID

1. –ü–æ–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ **Credentials**
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"+ CREATE CREDENTIALS"** ‚Üí **"OAuth client ID"**
3. **Application type:** –í–∏–±–µ—Ä—ñ—Ç—å **"Desktop app"**
4. **Name:** `SmartBabies Desktop Client`
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **Create**
6. –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ JSON —Ñ–∞–π–ª (–≤—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è –≤—ñ–∫–Ω–æ –∑ –∫–Ω–æ–ø–∫–æ—é Download)

### –ö—Ä–æ–∫ 4: –ü–æ–∫–ª–∞–¥—ñ—Ç—å —Ñ–∞–π–ª –≤ –ø—Ä–æ–µ–∫—Ç

1. –ü–µ—Ä–µ–π–º–µ–Ω—É–π—Ç–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏–π JSON —Ñ–∞–π–ª –≤ **`client_secret.json`**
2. –ü–µ—Ä–µ–º—ñ—Å—Ç—ñ—Ç—å –π–æ–≥–æ –≤ –ø–∞–ø–∫—É `/youtube-optimizer/`

### –ö—Ä–æ–∫ 5: –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é

**–©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏ –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ:**

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ç–µ—Ä–º—ñ–Ω–∞–ª (Terminal –Ω–∞ Mac –∞–±–æ Cursor's –≤–±—É–¥–æ–≤–∞–Ω–∏–π —Ç–µ—Ä–º—ñ–Ω–∞–ª)

2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç—É:
   ```bash
   cd /Users/dmytrolisenbart/Desktop/Cursor/smartbabies/youtube-optimizer
   ```

3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó:
   ```bash
   python3 auth_setup.py
   ```

**–©–æ –≤—ñ–¥–±—É–¥–µ—Ç—å—Å—è:**

1. –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç—å –Ω–∞—è–≤–Ω—ñ—Å—Ç—å —Ñ–∞–π–ª—É `client_secret.json`
   - –Ø–∫—â–æ –Ω–µ–º–∞—î ‚Üí –ø–æ–∫–∞–∂–µ –ø–æ–≤–Ω—É —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é —è–∫ –π–æ–≥–æ –æ—Ç—Ä–∏–º–∞—Ç–∏
   - –Ø–∫—â–æ —î ‚Üí –ø—Ä–æ–¥–æ–≤–∂–∏—Ç—å –¥–∞–ª—ñ

2. –í—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è –±—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑ Google —Å—Ç–æ—Ä—ñ–Ω–∫–æ—é –≤—Ö–æ–¥—É

3. –£–≤—ñ–π–¥—ñ—Ç—å –≤ Google –∞–∫–∞—É–Ω—Ç:
   - ‚úÖ **–í–∞–∂–ª–∏–≤–æ:** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ç–æ–π Google –∞–∫–∞—É–Ω—Ç, —è–∫–∏–π –º–∞—î –ø—Ä–∞–≤–∞ –Ω–∞ –∫–∞–Ω–∞–ª SmartBabies!
   - –¶–µ –º–æ–∂–µ –±—É—Ç–∏ –≤–∞—à –æ—Å–æ–±–∏—Å—Ç–∏–π Google –∞–∫–∞—É–Ω—Ç –∞–±–æ –∞–∫–∞—É–Ω—Ç –∫–æ–º–∞–Ω–¥–∏

4. –ü–æ–±–∞—á–∏—Ç–µ –∑–∞–ø–∏—Ç –Ω–∞ –Ω–∞–¥–∞–Ω–Ω—è –ø—Ä–∞–≤:
   ```
   "SmartBabies Optimizer wants to access your Google Account"
   ```
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **"Allow"** –∞–±–æ **"–î–æ–∑–≤–æ–ª–∏—Ç–∏"**

5. –ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ—ó –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó:
   - –ë—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∂–µ: "The authentication flow has completed"
   - –í —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –∑'—è–≤–∏—Ç—å—Å—è: "‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞!"
   - –°—Ç–≤–æ—Ä–∏—Ç—å—Å—è —Ñ–∞–π–ª `token.pickle` (–≤—ñ–Ω –∑–±–µ—Ä—ñ–≥–∞—î –≤–∞—à —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø—É)

**–Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –≤—Å–µ –ø—Ä–∞—Ü—é—î:**
```bash
ls -la token.pickle
```
–Ø–∫—â–æ –±–∞—á–∏—Ç–µ —Ñ–∞–π–ª - –≤—Å–µ –≥–æ—Ç–æ–≤–æ!

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `update_videos.py`

## üöÄ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ü—Ä–µ–≤'—é (–±–µ–∑ –∑–º—ñ–Ω):
```bash
python3 update_videos.py
```
–ü–æ–∫–∞–∂–µ —â–æ –±—É–¥–µ –∑–º—ñ–Ω–µ–Ω–æ, –∞–ª–µ –Ω—ñ—á–æ–≥–æ –Ω–µ –æ–Ω–æ–≤–∏—Ç—å.

### –†–µ–∞–ª—å–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:
```bash
python3 update_videos.py --apply
```

### –û–Ω–æ–≤–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ –ø—Ä–æ–±–ª–µ–º–Ω—ñ –≤—ñ–¥–µ–æ:
```bash
python3 update_videos.py --apply --priority
```

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ –∫—ñ–ª—å–∫–æ—Ö –≤—ñ–¥–µ–æ:
```bash
python3 update_videos.py --apply --limit 5
```

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ

- **OAuth —Ç–æ–∫–µ–Ω** –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ `token.pickle` - –Ω–µ –¥—ñ–ª—ñ—Ç—å—Å—è —Ü–∏–º —Ñ–∞–π–ª–æ–º!
- –Ø–∫—â–æ —Ç–æ–∫–µ–Ω –ø—Ä–æ—Å—Ç—Ä–æ—á–∏—Ç—å—Å—è - –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç—ñ—Ç—å `auth_setup.py` –∑–Ω–æ–≤—É
- –î–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –≤—Å—ñ—Ö 186 –≤—ñ–¥–µ–æ —Ü–µ –º–æ–∂–µ –∑–∞–π–Ω—è—Ç–∏ 5-10 —Ö–≤–∏–ª–∏–Ω (–∑–∞—Ç—Ä–∏–º–∫–∏ –¥–ª—è rate limits)

## üîí –ë–µ–∑–ø–µ–∫–∞

- `client_secret.json` - –¥–æ–¥–∞–π—Ç–µ –≤ `.gitignore` (–≤–∂–µ –¥–æ–¥–∞–Ω–æ)
- `token.pickle` - –¥–æ–¥–∞–π—Ç–µ –≤ `.gitignore` (–≤–∂–µ –¥–æ–¥–∞–Ω–æ)
- –ù–µ –∫–æ–º—ñ—Ç—å—Ç–µ —Ü—ñ —Ñ–∞–π–ª–∏ –≤ git!

## ‚ùì –ü—Ä–æ–±–ª–µ–º–∏?

**–ü–æ–º–∏–ª–∫–∞ "Access denied":**
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π Google –∞–∫–∞—É–Ω—Ç (—Ç–æ–π —â–æ –º–∞—î –ø—Ä–∞–≤–∞ –Ω–∞ –∫–∞–Ω–∞–ª)

**–ü–æ–º–∏–ª–∫–∞ 403 Forbidden:**
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ OAuth consent screen –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –æ–±—Ä–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ scopes –≤ `auth_setup.py`

**–¢–æ–∫–µ–Ω –ø—Ä–æ—Å—Ç—Ä–æ—á–∏–≤—Å—è:**
- –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç—ñ—Ç—å `auth_setup.py` –∑–Ω–æ–≤—É - –≤—ñ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω

